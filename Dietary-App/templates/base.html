<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{% block title %}App{% endblock %} · LIN TECH</title>

  <style>
    :root{
      --bg:#f6f8fb; --card:#ffffff; --text:#101828; --line:#e5e7eb;
      --primary:#1e66d0; --primary-600:#1b59b5; --danger:#dc2626; --shadow:0 6px 24px rgba(16,24,40,.06);
      --radius:12px; --radius-sm:10px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{ margin:0; background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans"; }

    /* Top bar with brand link (left) + logout (right) */
    .topbar{
      background:#0e4aa9; color:#fff; padding:12px 18px;
      display:flex; align-items:center; justify-content:space-between;
      box-shadow:0 2px 6px rgba(0,0,0,.08); position:sticky; top:0; z-index:100;
    }
    .brand-link{
      margin:0; font-size:22px; font-weight:800; letter-spacing:.3px; line-height:1.15;
      color:#fff; text-decoration:none; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .brand-link:hover{ text-decoration:underline; }

    .logout-btn{
      display:inline-flex; align-items:center; gap:8px;
      background:var(--primary); color:#fff; text-decoration:none; font-weight:600;
      padding:10px 16px; border-radius:10px; border:1px solid rgba(255,255,255,.25); min-height:42px;
      white-space:nowrap;
    }
    .logout-btn:hover{ background:var(--primary-600); }
    .logout-btn svg{ width:18px; height:18px; fill:currentColor; }

    /* Layout */
    .page{ max-width:1200px; margin:24px auto 56px; padding:0 18px; }
    h1{ font-size:40px; line-height:1.15; margin:0 0 18px; }
    h2{ font-size:22px; margin:0 0 12px; }

    /* Flash messages */
    .flashes{ display:grid; gap:10px; margin:0 0 16px; }
    .flash{ padding:12px 14px; border-radius:var(--radius-sm); background:#eef2ff; color:#1e293b; border:1px solid #dbe5ff; box-shadow:var(--shadow); }
    .flash.success{ background:#ecfdf5; border-color:#bbf7d0; }
    .flash.error{ background:#fef2f2; border-color:#fecaca; }
    .flash.info{ background:#eff6ff; border-color:#bfdbfe; }

    /* Buttons */
    .btn{ display:inline-flex; align-items:center; justify-content:center; height:42px; padding:0 16px;
          border-radius:10px; border:1px solid transparent; background:var(--card); color:var(--text);
          text-decoration:none; font-weight:600; cursor:pointer; box-shadow:var(--shadow); }
    .btn:hover{ filter:brightness(.98); }
    .btn-primary{ background:var(--primary); color:#fff; } .btn-primary:hover{ background:var(--primary-600); }
    .btn-secondary{ background:#eef2f6; } .btn-danger{ background:var(--danger); color:#fff; }

    /* Forms */
    .row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .form-group{ margin-bottom:12px; } .form-group > label{ display:block; font-weight:600; margin-bottom:6px; }
    .form-control{ width:100%; height:42px; padding:8px 10px; border:1px solid var(--line); border-radius:6px; background:#fff; color:var(--text); }
    textarea.form-control{ height:auto; min-height:100px; line-height:1.35; }

    /* Cards / Tables */
    .card{ background:var(--card); border:1px solid var(--line); border-radius:var(--radius); padding:16px; box-shadow:var(--shadow); }
    table{ width:100%; border-collapse:collapse; }
    thead th{ background:#eef2f6; font-weight:700; text-align:left; border-bottom:1px solid var(--line); padding:14px 12px; }
    tbody td{ border-bottom:1px solid var(--line); padding:14px 12px; vertical-align:middle; }

    a{ color:var(--primary); } a.btn{ color:inherit; }

    @media (max-width:720px){
      .brand-link{ font-size:18px; }
    }
  </style>

  {% block head %}{% endblock %}
  <!-- Go to Top Button -->
<button onclick="scrollToTop()" id="goTopBtn" title="Go to top">↑</button>

<style>
  /* Button styling */
  #goTopBtn {
    display: none;
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 99;
    border: none;
    outline: none;
    background-color: #0d6efd; /* Bootstrap blue */
    color: white;
    cursor: pointer;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 18px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: opacity 0.3s, transform 0.3s;
  }

  #goTopBtn:hover {
    background-color: #0b5ed7;
    transform: scale(1.1);
  }
</style>

<script>
  // Show the button when user scrolls down 200px
  window.onscroll = function() {scrollFunction()};

  function scrollFunction() {
    const btn = document.getElementById("goTopBtn");
    if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
      btn.style.display = "block";
    } else {
      btn.style.display = "none";
    }
  }

  // Smooth scroll to top
  function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
</script>

</head>
<body>

{# base.html #}
{% if not suppress_global_flash %}
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="container mt-3">
        {% for category, message in messages %}
          <div class="alert alert-{{ 'danger' if category == 'error' else category }} shadow-sm" role="alert">
            {{ message|safe }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}
{% endif %}



  <header class="topbar">
    <a class="brand-link" href="{{ url_for('dashboard') }}">LIN TECH KITCHEN MANAGEMENT TOOL</a>
    {% if session.get('user') %}
      <a class="logout-btn" href="{{ url_for('logout') }}" title="Log out">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M10 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7v-2h7V5h-7V3Zm-1.586 8-2.293 2.293 1.414 1.414L12.242 10l-4.707-4.707-1.414 1.414L8.414 9H2v2h6.414Z"/></svg>
        Logout
      </a>
    {% endif %}
  </header>

  <main class="page">
    {% with msgs = get_flashed_messages(with_categories=True) %}
      {% if msgs %}
        <div class="flashes">
          {% for cat, msg in msgs %}
            <div class="flash {{ cat|lower }}">{{ msg|safe }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>

  {% block scripts %}{% endblock %}
</body>
</html>





